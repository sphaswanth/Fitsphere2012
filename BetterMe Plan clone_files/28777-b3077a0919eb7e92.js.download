"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28777],{28777:function(n,r,s){s.d(r,{Mi:function(){return eo},P1:function(){return R},Uh:function(){return W},Uk:function(){return D},iR:function(){return ep},jp:function(){return j},oT:function(){return H},ro:function(){return _},sj:function(){return T}});var a=s(67294);function ownKeys(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),s.push.apply(s,a)}return s}function _objectSpread2(n){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(s),!0).forEach(function(r){_defineProperty(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function _classCallCheck(n,r){if(!(n instanceof r))throw TypeError("Cannot call a class as a function")}function _defineProperties(n,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function _createClass(n,r,s){return r&&_defineProperties(n.prototype,r),s&&_defineProperties(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function _defineProperty(n,r,s){return r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n}).apply(this,arguments)}function _inherits(n,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&_setPrototypeOf(n,r)}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _setPrototypeOf(n,r){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n})(n,r)}function _objectWithoutProperties(n,r){if(null==n)return{};var s,a,o=function(n,r){if(null==n)return{};var s,a,o={},l=Object.keys(n);for(a=0;a<l.length;a++)s=l[a],r.indexOf(s)>=0||(o[s]=n[s]);return o}(n,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(n,s)&&(o[s]=n[s])}return o}function _assertThisInitialized(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _createSuper(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var s,a=_getPrototypeOf(n);if(r){var o=_getPrototypeOf(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return function(n,r){if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(n)}(this,s)}}function _toConsumableArray(n){return function(n){if(Array.isArray(n))return _arrayLikeToArray(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,r){if(n){if("string"==typeof n)return _arrayLikeToArray(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return"Object"===s&&n.constructor&&(s=n.constructor.name),"Map"===s||"Set"===s?Array.from(n):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(n,r):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(n,r){(null==r||r>n.length)&&(r=n.length);for(var s=0,a=Array(r);s<r;s++)a[s]=n[s];return a}function createCommonjsModule(n,r){return n(r={exports:{}},r.exports),r.exports}function emptyFunction(){}function emptyFunctionWithReset(){}function cn(n){return n.map(function(n){return!1===n?null:n}).join(" ").replace(/\s+/g," ").trim()}function pct(n){return"".concat(n,"%")}function equal(n,r,s){if(n===r)return!0;var a=m[b(n)],o=m[b(r)];return!(!a||a!==o)&&a(n,r,s)}function memoGaurd(n){return function(r,s,a){if(!a)return n(r,s,[]);for(var o,l=a.length;o=a[--l];)if(o[0]===r&&o[1]===s)return!0;return n(r,s,a)}}function getEnumerableProperties(n){var r=[];for(var s in n)"constructor"!==s&&r.push(s);return r}function cloneUnlessOtherwiseSpecified(n,r){return!1!==r.clone&&r.isMergeableObject(n)?deepmerge(Array.isArray(n)?[]:{},n,r):n}function defaultArrayMerge(n,r,s){return n.concat(r).map(function(n){return cloneUnlessOtherwiseSpecified(n,s)})}function deepmerge(n,r,s){(s=s||{}).arrayMerge=s.arrayMerge||defaultArrayMerge,s.isMergeableObject=s.isMergeableObject||isMergeableObject;var a,o,l=Array.isArray(r);return l===Array.isArray(n)?l?s.arrayMerge(n,r,s):(o={},(a=s).isMergeableObject(n)&&Object.keys(n).forEach(function(r){o[r]=cloneUnlessOtherwiseSpecified(n[r],a)}),Object.keys(r).forEach(function(s){a.isMergeableObject(r[s])&&n[s]?o[s]=deepmerge(n[s],r[s],a):o[s]=cloneUnlessOtherwiseSpecified(r[s],a)}),o):cloneUnlessOtherwiseSpecified(r,s)}function WithStore(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}},s=function(s){function i(n,s){var a;return _classCallCheck(this,i),(a=o.call(this,n,s)).state=r(_objectSpread2({},s.state)),a.updateStateProps=a.updateStateProps.bind(_assertThisInitialized(a)),a}_inherits(i,s);var o=_createSuper(i);return _createClass(i,[{key:"componentDidMount",value:function(){this.context.subscribe(this.updateStateProps)}},{key:"shouldComponentUpdate",value:function(n,r){return!f(r,this.state)||!f(n,this.props)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.updateStateProps)}},{key:"updateStateProps",value:function(){this.setState(r(_objectSpread2({},this.context.state)))}},{key:"render",value:function(){var r=this,s=y(this.state,this.props);return a.createElement(n,_extends({ref:function(n){r.instance=n}},s,{carouselStore:{getStoreState:this.context.getStoreState,masterSpinnerError:this.context.masterSpinnerError,masterSpinnerSuccess:this.context.masterSpinnerSuccess,setStoreState:this.context.setStoreState,subscribeMasterSpinner:this.context.subscribeMasterSpinner,unsubscribeAllMasterSpinner:this.context.unsubscribeAllMasterSpinner,unsubscribeMasterSpinner:this.context.unsubscribeMasterSpinner}}),this.props.children)}}]),i}(a.Component);return _defineProperty(s,"contextType",_),_defineProperty(s,"propTypes",{children:d.children}),_defineProperty(s,"defaultProps",{children:null}),s}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(n,r,s,a,o,l){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==l){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return n.PropTypes=n,n},o=createCommonjsModule(function(n){n.exports=factoryWithThrowingShims()}),l="loading",c="success",u="error",d={children:o.oneOfType([o.arrayOf(o.node),o.node]),direction:o.oneOf(["forward","backward"]),height:function(n,r){var s=n[r];return"vertical"!==n.orientation||null!==s&&"number"==typeof s?null:Error("Missing required property '".concat(r,"' when orientation is vertical.  You must supply a number representing the height in pixels"))},orientation:o.oneOf(["horizontal","vertical"]),isBgImage:function(n,r){return!0===n[r]&&"img"===n.tag?Error("HTML img elements should not have a backgroundImage.  Please use ".concat(r," for other block-level HTML tags, like div, a, section, etc...")):null}},boundedRange=function(n){var r=n.min;return Math.min(n.max,Math.max(r,n.x))},p=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],S=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).handleOnClick=s.handleOnClick.bind(_assertThisInitialized(s)),s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"handleOnClick",value:function(n){var r=this.props,s=r.carouselStore,a=r.currentSlide,o=r.onClick,l=r.step,c=r.infinite,u=r.visibleSlides,d=r.totalSlides-u,p=Math.max(a-l,0);c&&(p=0===a?d:p),s.setStoreState({currentSlide:p,isPlaying:!1},null!==o&&o.call(this,n))}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.className),s=(n.currentSlide,n.disabled,n.onClick,n.step,n.totalSlides,n.visibleSlides,n.infinite),o=_objectWithoutProperties(n,p),l=cn(["buttonBack___1mlaL","carousel__back-button",r]),c=t.setDisabled(this.props.disabled,this.props.currentSlide,s);return a.createElement("button",_extends({type:"button","aria-label":"previous",className:l,onClick:this.handleOnClick,disabled:c},o),this.props.children)}}],[{key:"setDisabled",value:function(n,r,s){return null!==n?n:0===r&&!s}}]),t}(a.Component);_defineProperty(S,"propTypes",{carouselStore:o.object.isRequired,children:d.children.isRequired,className:o.string,currentSlide:o.number.isRequired,disabled:o.bool,onClick:o.func,step:o.number.isRequired,totalSlides:o.number.isRequired,visibleSlides:o.number.isRequired,infinite:o.bool}),_defineProperty(S,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1});var b=createCommonjsModule(function(n,r){var s={}.toString,a="undefined"!=typeof window?window.Node:Function;n.exports=r=function(n){var r=typeof n;if("object"!=r)return r;if("object"==(r=o[s.call(n)]))return n instanceof Map?"map":n instanceof Set?"set":"object";if(r)return r;if(n instanceof a)switch(n.nodeType){case 1:return"element";case 3:return"text-node";case 9:return"document";case 11:return"document-fragment";default:return"dom-node"}};var o=r.types={"[object Function]":"function","[object Date]":"date","[object RegExp]":"regexp","[object Arguments]":"arguments","[object Array]":"array","[object Set]":"set","[object String]":"string","[object Null]":"null","[object Undefined]":"undefined","[object Number]":"number","[object Boolean]":"boolean","[object Object]":"object","[object Map]":"map","[object Text]":"text-node","[object Uint8Array]":"bit-array","[object Uint16Array]":"bit-array","[object Uint32Array]":"bit-array","[object Uint8ClampedArray]":"bit-array","[object Error]":"error","[object FormData]":"form-data","[object File]":"file","[object Blob]":"blob"}}),m=(b.types,{});m.number=function(n,r){return n!=n&&r!=r},m.function=function(n,r,s){return n.toString()===r.toString()&&m.object(n,r,s)&&equal(n.prototype,r.prototype)},m.date=function(n,r){return+n==+r},m.regexp=function(n,r){return n.toString()===r.toString()},m.element=function(n,r){return n.outerHTML===r.outerHTML},m.textnode=function(n,r){return n.textContent===r.textContent},m.arguments=m["bit-array"]=m.array=memoGaurd(function(n,r,s){var a=n.length;if(a!==r.length)return!1;for(s.push([n,r]);a--;)if(!equal(n[a],r[a],s))return!1;return!0}),m.object=memoGaurd(function(n,r,s){if("function"==typeof n.equal)return s.push([n,r]),n.equal(r,s);var a=getEnumerableProperties(n),o=getEnumerableProperties(r),l=a.length;if(l!==o.length)return!1;for(a.sort(),o.sort();l--;)if(a[l]!==o[l])return!1;for(s.push([n,r]),l=a.length;l--;){var c=a[l];if(!equal(n[c],r[c],s))return!1}return!0});var f=equal,isMergeableObject=function(n){var r;return!!n&&"object"==typeof n&&!("[object RegExp]"===(r=Object.prototype.toString.call(n))||"[object Date]"===r||n.$$typeof===g)},g="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;deepmerge.all=function(n,r){if(!Array.isArray(n))throw Error("first argument should be an array");return n.reduce(function(n,s){return deepmerge(n,s,r)},{})};var v,y=deepmerge,_=a.createContext(),deepFreeze=function e(n){return Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(r){!n.hasOwnProperty(r)||null===n[r]||"object"!=typeof n[r]&&"function"!=typeof n[r]||Object.isFrozen(n[r])||e(n[r])}),n},k={masterSpinnerFinished:!1},O=function(){function e(n){_classCallCheck(this,e),this.state=deepFreeze(y(k,n)),this.subscriptions=[],this.masterSpinnerSubscriptions={},this.setStoreState=this.setStoreState.bind(this),this.getStoreState=this.getStoreState.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.updateSubscribers=this.updateSubscribers.bind(this),this.subscribeMasterSpinner=this.subscribeMasterSpinner.bind(this),this.unsubscribeMasterSpinner=this.unsubscribeMasterSpinner.bind(this),this.unsubscribeAllMasterSpinner=this.unsubscribeAllMasterSpinner.bind(this),this.masterSpinnerSuccess=this.masterSpinnerSuccess.bind(this),this.masterSpinnerError=this.masterSpinnerError.bind(this)}return _createClass(e,[{key:"setStoreState",value:function(n,r){this.state=deepFreeze(y(this.state,n)),this.updateSubscribers(r)}},{key:"getStoreState",value:function(){return y({},this.state)}},{key:"subscribe",value:function(n){this.subscriptions.push(n)}},{key:"unsubscribe",value:function(n){var r=this.subscriptions.indexOf(n);-1!==r&&this.subscriptions.splice(r,1)}},{key:"updateSubscribers",value:function(n){this.subscriptions.forEach(function(n){return n()}),"function"==typeof n&&n(this.getStoreState())}},{key:"subscribeMasterSpinner",value:function(n){-1===Object.keys(this.masterSpinnerSubscriptions).indexOf(n)&&(this.masterSpinnerSubscriptions[n]={success:!1,error:!1,complete:!1})}},{key:"unsubscribeMasterSpinner",value:function(n){return -1!==Object.keys(this.masterSpinnerSubscriptions).indexOf(n)&&(this.setMasterSpinnerFinished(),delete this.masterSpinnerSubscriptions[n])}},{key:"unsubscribeAllMasterSpinner",value:function(){this.masterSpinnerSubscriptions={},this.setMasterSpinnerFinished()}},{key:"masterSpinnerSuccess",value:function(n){this.masterSpinnerSubscriptions[n].success=!0,this.masterSpinnerSubscriptions[n].complete=!0,this.setMasterSpinnerFinished()}},{key:"masterSpinnerError",value:function(n){this.masterSpinnerSubscriptions[n].error=!0,this.masterSpinnerSubscriptions[n].complete=!0,this.setMasterSpinnerFinished()}},{key:"setMasterSpinnerFinished",value:function(){this.setStoreState({masterSpinnerFinished:this.isMasterSpinnerFinished()})}},{key:"isMasterSpinnerFinished",value:function(){var n=this;return 0===Object.keys(this.masterSpinnerSubscriptions).filter(function(r){return!0!==n.masterSpinnerSubscriptions[r].complete}).length}}]),e}(),C=["children","className","currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","naturalSlideHeight","naturalSlideWidth","orientation","playDirection","step","dragStep","tag","totalSlides","touchEnabled","dragEnabled","visibleSlides","infinite","isIntrinsicHeight"],T=(_defineProperty(v=function(n){function t(n){if(_classCallCheck(this,t),a=r.call(this,n),n.isIntrinsicHeight&&"horizontal"!==n.orientation)throw Error('isIntrinsicHeight can only be used in "horizontal" orientation. See Readme for more information.');var s,a,o={currentSlide:n.currentSlide,disableAnimation:n.disableAnimation,disableKeyboard:n.disableKeyboard,hasMasterSpinner:n.hasMasterSpinner,imageErrorCount:0,imageSuccessCount:0,interval:n.interval,isPageScrollLocked:n.isPageScrollLocked,isPlaying:n.isPlaying,lockOnWindowScroll:n.lockOnWindowScroll,masterSpinnerThreshold:0,naturalSlideHeight:n.naturalSlideHeight,naturalSlideWidth:n.naturalSlideWidth,orientation:n.orientation,playDirection:n.playDirection,privateUnDisableAnimation:!1,slideSize:100/n.totalSlides*(s=n.visibleSlides)/s,slideTraySize:100*n.totalSlides/n.visibleSlides,step:n.step,dragStep:n.dragStep,totalSlides:n.totalSlides,touchEnabled:n.touchEnabled,dragEnabled:n.dragEnabled,visibleSlides:n.visibleSlides,infinite:n.infinite,isIntrinsicHeight:n.isIntrinsicHeight};return a.carouselStore=new O(o),a}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"componentDidUpdate",value:function(n){var r,s=this,a={};["currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPlaying","naturalSlideHeight","naturalSlideWidth","lockOnWindowScroll","orientation","playDirection","step","dragStep","totalSlides","touchEnabled","dragEnabled","visibleSlides"].forEach(function(r){n[r]!==s.props[r]&&(a[r]=s.props[r])}),this.props.currentSlide===n.currentSlide||this.props.disableAnimation||(a.disableAnimation=!0,a.privateUnDisableAnimation=!0),this.props.totalSlides===n.totalSlides&&this.props.visibleSlides===n.visibleSlides||(a.slideSize=100/this.props.totalSlides*(r=this.props.visibleSlides)/r,a.slideTraySize=100*this.props.totalSlides/this.props.visibleSlides),this.carouselStore.state.currentSlide>=this.props.totalSlides&&(a.currentSlide=Math.max(this.props.totalSlides-1,0)),Object.keys(a).length>0&&this.carouselStore.setStoreState(a)}},{key:"componentWillUnmount",value:function(){this.carouselStore.unsubscribeAllMasterSpinner()}},{key:"getStore",value:function(){return this.carouselStore}},{key:"render",value:function(){var n=this.props,r=(n.children,n.className,n.currentSlide,n.disableAnimation,n.disableKeyboard,n.hasMasterSpinner,n.interval,n.isPageScrollLocked,n.isPlaying,n.lockOnWindowScroll,n.naturalSlideHeight,n.naturalSlideWidth,n.orientation,n.playDirection,n.step,n.dragStep,n.tag),s=(n.totalSlides,n.touchEnabled,n.dragEnabled,n.visibleSlides,n.infinite,n.isIntrinsicHeight,_objectWithoutProperties(n,C)),o=cn(["carousel",this.props.className]);return a.createElement(r,_extends({className:o},s),a.createElement(_.Provider,{value:this.carouselStore},this.props.children))}}]),t}(a.Component),"propTypes",{children:d.children.isRequired,className:o.string,currentSlide:o.number,disableAnimation:o.bool,disableKeyboard:o.bool,hasMasterSpinner:o.bool,interval:o.number,isPageScrollLocked:o.bool,isPlaying:o.bool,lockOnWindowScroll:o.bool,naturalSlideHeight:o.number.isRequired,naturalSlideWidth:o.number.isRequired,orientation:d.orientation,playDirection:d.direction,step:o.number,dragStep:o.number,tag:o.string,totalSlides:o.number.isRequired,touchEnabled:o.bool,dragEnabled:o.bool,visibleSlides:o.number,infinite:o.bool,isIntrinsicHeight:o.bool}),_defineProperty(v,"defaultProps",{className:null,currentSlide:0,disableAnimation:!1,disableKeyboard:!1,hasMasterSpinner:!1,interval:5e3,isPageScrollLocked:!1,isPlaying:!1,lockOnWindowScroll:!1,orientation:"horizontal",playDirection:"forward",step:1,dragStep:1,tag:"div",touchEnabled:!0,dragEnabled:!0,visibleSlides:1,infinite:!1,isIntrinsicHeight:!1}),v);_.Consumer;var P,M,w,E,N,x,j=WithStore(S,function(n){return{currentSlide:n.currentSlide,step:n.step,totalSlides:n.totalSlides,visibleSlides:n.visibleSlides,infinite:n.infinite}}),I=["carouselStore","className","currentSlide","disabled","onClick","totalSlides"],D=WithStore((_defineProperty(P=function(n){function t(){var n;return _classCallCheck(this,t),(n=r.call(this)).handleOnClick=n.handleOnClick.bind(_assertThisInitialized(n)),n}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"handleOnClick",value:function(n){var r=this.props,s=r.carouselStore,a=r.onClick;s.setStoreState({currentSlide:0,isPlaying:!1},null!==a&&a.call(this,n))}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.className),s=n.currentSlide,o=n.disabled,l=(n.onClick,n.totalSlides,_objectWithoutProperties(n,I)),c=cn(["buttonFirst___2rhFr","carousel__first-button",r]);return a.createElement("button",_extends({type:"button","aria-label":"first",className:c,onClick:this.handleOnClick,disabled:null!==o?o:0===s},l),this.props.children)}}]),t}(a.Component),"propTypes",{carouselStore:o.object.isRequired,children:d.children.isRequired,className:o.string,currentSlide:o.number.isRequired,disabled:o.bool,onClick:o.func,totalSlides:o.number.isRequired}),_defineProperty(P,"defaultProps",{className:null,disabled:null,onClick:null}),P),function(n){return{currentSlide:n.currentSlide,totalSlides:n.totalSlides}}),A=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],R=WithStore((_defineProperty(M=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).handleOnClick=s.handleOnClick.bind(_assertThisInitialized(s)),s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"handleOnClick",value:function(n){var r=this.props,s=r.currentSlide,a=r.onClick,o=r.step,l=r.carouselStore,c=r.infinite,u=r.totalSlides-r.visibleSlides,d=Math.min(o+s,u);c&&(d=u===s?0:d),l.setStoreState({currentSlide:d,isPlaying:!1},null!==a&&a.call(this,n))}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.className),s=n.currentSlide,o=n.disabled,l=(n.onClick,n.step,n.totalSlides),c=n.visibleSlides,u=n.infinite,d=_objectWithoutProperties(n,A),p=cn(["buttonNext___2mOCa","carousel__next-button",r]),S=t.setDisabled(o,s,c,l,u);return a.createElement("button",_extends({type:"button","aria-label":"next",className:p,onClick:this.handleOnClick,disabled:S},d),this.props.children)}}],[{key:"setDisabled",value:function(n,r,s,a,o){return null!==n?n:r>=a-s&&!o}}]),t}(a.PureComponent),"propTypes",{carouselStore:o.object.isRequired,children:d.children.isRequired,className:o.string,currentSlide:o.number.isRequired,disabled:o.bool,onClick:o.func,step:o.number.isRequired,totalSlides:o.number.isRequired,visibleSlides:o.number.isRequired,infinite:o.bool}),_defineProperty(M,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1}),M),function(n){return{currentSlide:n.currentSlide,step:n.step,totalSlides:n.totalSlides,visibleSlides:n.visibleSlides,infinite:n.infinite}}),z=["carouselStore","className","currentSlide","disabled","onClick","totalSlides","visibleSlides"],W=WithStore((_defineProperty(w=function(n){function t(){var n;return _classCallCheck(this,t),(n=r.call(this)).handleOnClick=n.handleOnClick.bind(_assertThisInitialized(n)),n}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"handleOnClick",value:function(n){var r=this.props,s=r.carouselStore,a=r.onClick,o=r.totalSlides,l=r.visibleSlides;s.setStoreState({currentSlide:o-l,isPlaying:!1},null!==a&&a.call(this,n))}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.className),s=n.currentSlide,o=n.disabled,l=(n.onClick,n.totalSlides),c=n.visibleSlides,u=_objectWithoutProperties(n,z),d=cn(["buttonLast___2yuh0","carousel__last-button",r]);return a.createElement("button",_extends({type:"button","aria-label":"last",className:d,onClick:this.handleOnClick,disabled:null!==o?o:s>=l-c},u),this.props.children)}}]),t}(a.Component),"propTypes",{carouselStore:o.object.isRequired,children:d.children.isRequired,className:o.string,currentSlide:o.number.isRequired,disabled:o.bool,onClick:o.func,totalSlides:o.number.isRequired,visibleSlides:o.number.isRequired}),_defineProperty(w,"defaultProps",{className:null,disabled:null,onClick:null}),w),function(n){return{currentSlide:n.currentSlide,totalSlides:n.totalSlides,visibleSlides:n.visibleSlides}}),L=["carouselStore","children","childrenPaused","childrenPlaying","className","isPlaying","onClick"],q=(WithStore((_defineProperty(E=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).handleOnClick=s.handleOnClick.bind(_assertThisInitialized(s)),s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"handleOnClick",value:function(n){var r=this.props.onClick;this.props.carouselStore.setStoreState({isPlaying:!this.props.isPlaying},null!==r&&r.call(this,n))}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.children,n.childrenPaused),s=n.childrenPlaying,o=n.className,l=n.isPlaying,c=(n.onClick,_objectWithoutProperties(n,L)),u=cn(["buttonNext___3Lm3s","carousel__play-button",o]);return a.createElement("button",_extends({type:"button","aria-label":"play",className:u,onClick:this.handleOnClick},c),l&&s,!l&&r,this.props.children)}}]),t}(a.PureComponent),"propTypes",{carouselStore:o.object.isRequired,children:o.node,childrenPaused:o.node,childrenPlaying:o.node,className:o.string,isPlaying:o.bool.isRequired,onClick:o.func}),_defineProperty(E,"defaultProps",{children:null,childrenPaused:null,childrenPlaying:null,className:null,onClick:null}),E),function(n){return{isPlaying:n.isPlaying}}),{dot:"dot___3c3SI"}),F=["carouselStore","children","className","currentSlide","disabled","onClick","selected","slide","totalSlides","visibleSlides"],H=WithStore((_defineProperty(N=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).handleOnClick=s.handleOnClick.bind(_assertThisInitialized(s)),s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"handleOnClick",value:function(n){var r=this.props,s=r.carouselStore,a=r.onClick,o=r.slide,l=r.totalSlides,c=r.visibleSlides;s.setStoreState({currentSlide:o>=l-c?l-c:o,isPlaying:!1},null!==a&&a.call(this,n))}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.children,n.className),s=n.currentSlide,o=n.disabled,l=(n.onClick,n.selected),c=n.slide,u=(n.totalSlides,n.visibleSlides),d=_objectWithoutProperties(n,F),p=c>=s&&c<s+u,S="boolean"==typeof l?l:p,b=cn([q.dot,S&&q.dotSelected,"carousel__dot","carousel__dot--".concat(c),S&&"carousel__dot--selected",r]);return a.createElement("button",_extends({"aria-label":"slide dot",type:"button",onClick:this.handleOnClick,className:b,disabled:"boolean"==typeof o?o:!0===p},d),this.props.children)}}]),t}(a.Component),"propTypes",{carouselStore:o.object.isRequired,children:d.children,className:o.string,currentSlide:o.number.isRequired,disabled:o.bool,onClick:o.func,selected:o.bool,slide:o.number.isRequired,totalSlides:o.number.isRequired,visibleSlides:o.number.isRequired}),_defineProperty(N,"defaultProps",{children:null,className:null,disabled:null,onClick:null,selected:null}),N),function(n){return{currentSlide:n.currentSlide,totalSlides:n.totalSlides,visibleSlides:n.visibleSlides}}),B={},U=["renderDots"],Y=["carouselStore","children","className","currentSlide","dotNumbers","totalSlides","visibleSlides","disableActiveDots","showAsSelectedForCurrentSlideOnly","renderDots"],V=(WithStore((_defineProperty(x=function(n){function t(){return _classCallCheck(this,t),r.apply(this,arguments)}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"renderDots",value:function(){var n=this.props,r=n.currentSlide,s=n.totalSlides,o=n.visibleSlides,l=n.disableActiveDots,c=n.showAsSelectedForCurrentSlideOnly,u=n.renderDots;if(u){var d=this.props;return d.renderDots,u(_objectWithoutProperties(d,U))}for(var p=[],S=0;S<s;S+=1){var b=S>=r&&S<r+o,m=S===r,f=c?m:b,g=S>=s-o?s-o:S;p.push(a.createElement(H,{key:S,slide:g,selected:f,disabled:!!l&&f},a.createElement("span",{className:cn["carousel__dot-group-dot"]},this.props.dotNumbers&&S+1)))}return p}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.children),s=n.className,o=(n.currentSlide,n.dotNumbers,n.totalSlides,n.visibleSlides,n.disableActiveDots,n.showAsSelectedForCurrentSlideOnly,n.renderDots,_objectWithoutProperties(n,Y)),l=cn([B.DotGroup,"carousel__dot-group",s]);return a.createElement("div",_extends({className:l},o),this.renderDots(),r)}}]),t}(a.Component),"propTypes",{children:d.children,className:o.string,currentSlide:o.number.isRequired,carouselStore:o.object.isRequired,totalSlides:o.number.isRequired,visibleSlides:o.number.isRequired,dotNumbers:o.bool,disableActiveDots:o.bool,showAsSelectedForCurrentSlideOnly:o.bool,renderDots:o.func}),_defineProperty(x,"defaultProps",{children:null,className:null,dotNumbers:!1,disableActiveDots:!0,showAsSelectedForCurrentSlideOnly:!1,renderDots:null}),x),function(n){return{currentSlide:n.currentSlide,totalSlides:n.totalSlides,visibleSlides:n.visibleSlides}}),{image:"image___xtQGH"}),Z=["src","alt"],X=["carouselStore","children","className","hasMasterSpinner","isBgImage","onError","onLoad","renderError","renderLoading","style","tag"],K=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).state={imageStatus:l},s.handleImageLoad=s.handleImageLoad.bind(_assertThisInitialized(s)),s.handleImageError=s.handleImageError.bind(_assertThisInitialized(s)),s.image=null,s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"componentDidMount",value:function(){t.subscribeMasterSpinner(this.props),this.initImage()}},{key:"componentDidUpdate",value:function(n){n.src!==this.props.src&&(t.unsubscribeMasterSpinner(n),t.subscribeMasterSpinner(this.props),this.initImage())}},{key:"componentWillUnmount",value:function(){t.unsubscribeMasterSpinner(this.props),this.image.removeEventListener("load",this.handleImageLoad),this.image.removeEventListener("error",this.handleImageError),this.image=null}},{key:"initImage",value:function(){if(this.setState({imageStatus:l}),this.image=document.createElement("img"),this.image.addEventListener("load",this.handleImageLoad,!1),this.image.addEventListener("error",this.handleImageError,!1),this.image.src=this.props.src,this.image.readyState||this.image.complete){var n=this.image.src;this.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.image.src=n}}},{key:"handleImageLoad",value:function(n){this.setState({imageStatus:c}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerSuccess(this.props.src),this.props.onLoad&&this.props.onLoad(n)}},{key:"handleImageError",value:function(n){this.setState({imageStatus:u}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerError(this.props.src),this.props.onError&&this.props.onError(n)}},{key:"tempTag",value:function(){return"img"===this.props.tag?"div":this.props.tag}},{key:"customRender",value:function(n){return"function"==typeof this.props[n]?this.props[n]():this.props.children}},{key:"renderLoading",value:function(n){var r=this.tempTag(),s=cn([V.image,V.imageLoading,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--loading",this.props.className]);return a.createElement(r,_extends({className:s},n),this.customRender("renderLoading"))}},{key:"renderError",value:function(n){var r=this.tempTag(),s=cn([V.image,V.imageError,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--error",this.props.className]);return a.createElement(r,_extends({className:s},n),this.customRender("renderError"))}},{key:"renderSuccess",value:function(n){var r=this.props,s=r.style,o=r.tag,l=cn([V.image,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--success",this.props.className]),c=_extends({},s),u=n;if("img"!==o){var d=n.src;n.alt,u=_objectWithoutProperties(n,Z),c=_extends({},s,{backgroundImage:'url("'.concat(d,'")'),backgroundSize:"cover"})}return a.createElement(o,_extends({className:l,style:c},u),this.props.children)}},{key:"render",value:function(){var n=this.props,r=(n.carouselStore,n.children,n.className,n.hasMasterSpinner,n.isBgImage,n.onError,n.onLoad,n.renderError,n.renderLoading,n.style,n.tag,_objectWithoutProperties(n,X));switch(this.state.imageStatus){case l:return this.renderLoading(r);case c:return this.renderSuccess(r);case u:return this.renderError(r);default:throw Error("unknown value for this.state.imageStatus")}}}],[{key:"subscribeMasterSpinner",value:function(n){n.hasMasterSpinner&&n.carouselStore.subscribeMasterSpinner(n.src)}},{key:"unsubscribeMasterSpinner",value:function(n){n.hasMasterSpinner&&n.carouselStore.unsubscribeMasterSpinner(n.src)}}]),t}(a.Component);_defineProperty(K,"propTypes",{alt:o.string,carouselStore:o.object.isRequired,children:d.children,className:o.string,hasMasterSpinner:o.bool.isRequired,isBgImage:d.isBgImage,onError:o.func,onLoad:o.func,renderError:o.func,renderLoading:o.func,src:o.string.isRequired,style:o.object,tag:o.string}),_defineProperty(K,"defaultProps",{alt:"",children:null,className:null,isBgImage:!1,onError:null,onLoad:null,renderError:null,renderLoading:null,style:null,tag:"img"});var G,Q,$,J,ee=WithStore(K,function(n){return{hasMasterSpinner:n.hasMasterSpinner,orientation:n.orientation}}),et=["className"],ei=(_defineProperty(G=function(n){function t(){return _classCallCheck(this,t),r.apply(this,arguments)}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"render",value:function(){var n=this.props,r=n.className,s=_objectWithoutProperties(n,et),o=cn(["spinner___27VUp","carousel__spinner",r]);return a.createElement("div",_extends({className:o},s))}}]),t}(a.PureComponent),"propTypes",{className:o.string}),_defineProperty(G,"defaultProps",{className:null}),G),en={container:"container___2O72F",overlay:"overlay___IV4qY",hover:"hover___MYy31",zoom:"zoom___3kqYk",imageLoadingSpinnerContainer:"imageLoadingSpinnerContainer___3UIPD"},er=["alt","bgImageProps","bgImageTag","carouselStore","className","imageClassName","overlayClassName","isPinchZoomEnabled","spinner","src","srcZoomed","tag"],es=(WithStore((_defineProperty(Q=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).state={isImageLoading:!0,isHovering:!1,isZooming:!1,x:null,y:null,scale:1},s.tpCache={},s.handleImageComplete=s.handleImageComplete.bind(_assertThisInitialized(s)),s.handleOnMouseMove=s.handleOnMouseMove.bind(_assertThisInitialized(s)),s.handleOnMouseOut=s.handleOnMouseOut.bind(_assertThisInitialized(s)),s.handleOnMouseOver=s.handleOnMouseOver.bind(_assertThisInitialized(s)),s.handleOnTouchEnd=s.handleOnTouchEnd.bind(_assertThisInitialized(s)),s.handleOnTouchMove=s.handleOnTouchMove.bind(_assertThisInitialized(s)),s.handleOnTouchStart=s.handleOnTouchStart.bind(_assertThisInitialized(s)),s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"componentDidUpdate",value:function(n,r){!1===r.isZooming&&!0===this.state.isZooming&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),!0===r.isZooming&&!1===this.state.isZooming&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1})}},{key:"handleImageComplete",value:function(){this.setState({isImageLoading:!1})}},{key:"handleOnMouseOver",value:function(){this.state.isZooming||this.setState({isHovering:!0,scale:2})}},{key:"handleOnMouseOut",value:function(){this.state.isZooming||this.setState({isHovering:!1,scale:1})}},{key:"handleOnMouseMove",value:function(n){if(!this.state.isZooming){var r=pct(n.nativeEvent.offsetX/n.target.offsetWidth*100),s=pct(n.nativeEvent.offsetY/n.target.offsetHeight*100);this.setState({x:r,y:s})}}},{key:"handleOnTouchStart",value:function(n){var r=this;this.props.isPinchZoomEnabled&&(_toConsumableArray(n.targetTouches).forEach(function(n){r.tpCache[n.identifier]={clientX:n.clientX,clientY:n.clientY}}),this.setState(function(n){return{isZooming:n.isZooming||Object.keys(r.tpCache).length>1}}))}},{key:"handleOnTouchMove",value:function(n){var r=this;if(this.state.isZooming){n.persist();var s=_toConsumableArray(n.targetTouches).filter(function(n){return r.tpCache[n.identifier]}).slice(0,2);if(2===s.length){n.stopPropagation();var a=n.target.getBoundingClientRect(),o=s[0].identifier,l=s[1].identifier,c={x1:this.tpCache[o].clientX,y1:this.tpCache[o].clientY,x2:this.tpCache[l].clientX,y2:this.tpCache[l].clientY};c.distance=t.distanceBetweenTwoTouches(_objectSpread2({},c));var u=t.midpointBetweenTwoTouches(_objectSpread2({},c));c.cx=u.x,c.cy=u.y;var d={x1:s[0].clientX,y1:s[0].clientY,x2:s[1].clientX,y2:s[1].clientY};d.distance=t.distanceBetweenTwoTouches(_objectSpread2({},d));var p=t.midpointBetweenTwoTouches(_objectSpread2({},d));d.cx=p.x,d.cy=p.y;var S=pct(boundedRange({min:0,max:100,x:(d.cx-a.left)/a.width*100})),b=pct(boundedRange({min:0,max:100,x:(d.cy-a.top)/a.height*100})),h=function(n){return boundedRange({min:1,max:3,x:n.scale+(d.distance-c.distance)/100})};this.setState(function(n){return{isZooming:1!==h(n),scale:h(n),x:S,y:b}})}}}},{key:"handleOnTouchEnd",value:function(n){var r=this;this.props.isPinchZoomEnabled&&(_toConsumableArray(n.changedTouches).forEach(function(n){delete r.tpCache[n.identifier]}),0===Object.keys(this.tpCache).length&&this.setState({isZooming:!1}))}},{key:"renderLoading",value:function(){if(this.state.isImageLoading){var n=this.props.spinner;return a.createElement("div",{className:cn([en.imageLoadingSpinnerContainer,"carousel__image-loading-spinner-container"])},n&&n(),!n&&a.createElement(ei,null))}return null}},{key:"render",value:function(){var n=this.props,r=n.alt,s=n.bgImageProps,o=n.bgImageTag,l=(n.carouselStore,n.className),c=n.imageClassName,u=n.overlayClassName,d=(n.isPinchZoomEnabled,n.spinner,n.src),p=n.srcZoomed,S=n.tag,b=_objectWithoutProperties(n,er),m=cn([en.container,l]),f=cn([en.image,"carousel__zoom-image",c]),g=cn([en.overlay,"carousel__zoom-image-overlay",this.state.isHovering&&en.hover,this.state.isZooming&&en.zoom,this.state.isHovering&&"carousel__zoom-image-overlay--hovering",this.state.isZooming&&"carousel__zoom-image-overlay--zooming",u]),v={};return(this.state.isHovering||this.state.isZooming)&&(v.transformOrigin="".concat(this.state.x," ").concat(this.state.y),v.transform="scale(".concat(this.state.scale,")")),a.createElement(S,_extends({className:m},b),a.createElement(ee,_extends({alt:r,className:f,tag:o,src:d,onLoad:this.handleImageComplete,onError:this.handleImageComplete},s)),a.createElement(ee,{className:g,tag:"div",src:p||d,style:v,isBgImage:!0,onFocus:this.handleOnMouseOver,onMouseOver:this.handleOnMouseOver,onBlur:this.handleOnMouseOut,onMouseOut:this.handleOnMouseOut,onMouseMove:this.handleOnMouseMove,onTouchStart:this.handleOnTouchStart,onTouchEnd:this.handleOnTouchEnd,onTouchMove:this.handleOnTouchMove}),this.renderLoading())}}],[{key:"midpointBetweenTwoTouches",value:function(n){var r=n.x1,s=n.y1;return{x:(r+n.x2)/2,y:(s+n.y2)/2}}},{key:"distanceBetweenTwoTouches",value:function(n){var r=n.x1,s=n.y1;return Math.sqrt(Math.pow(n.x2-r,2)+Math.pow(n.y2-s,2))}}]),t}(a.Component),"propTypes",{alt:o.string,bgImageProps:o.object,bgImageTag:o.string,carouselStore:o.object.isRequired,className:o.string,imageClassName:o.string,overlayClassName:o.string,spinner:o.func,src:o.string.isRequired,srcZoomed:o.string,tag:o.string,isPinchZoomEnabled:o.bool}),_defineProperty(Q,"defaultProps",{alt:void 0,bgImageProps:{},bgImageTag:"div",className:null,imageClassName:null,overlayClassName:null,isPinchZoomEnabled:!0,spinner:null,srcZoomed:null,tag:"div"}),Q),function(){return{}}),{slide:"slide___3-Nqo",slideHorizontal:"slideHorizontal___1NzNV",slideInner:"slideInner___2mfX9",focusRing:"focusRing___1airF"}),ea=["ariaLabel","carouselStore","children","className","classNameHidden","classNameVisible","currentSlide","index","innerClassName","innerTag","naturalSlideHeight","naturalSlideWidth","onBlur","onFocus","orientation","slideSize","style","tabIndex","tag","totalSlides","visibleSlides","isIntrinsicHeight"],eo=WithStore((_defineProperty($=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).handleOnFocus=s.handleOnFocus.bind(_assertThisInitialized(s)),s.handleOnBlur=s.handleOnBlur.bind(_assertThisInitialized(s)),s.state={focused:!1},s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"isVisible",value:function(){var n=this.props,r=n.currentSlide,s=n.index,a=n.visibleSlides;return s>=r&&s<r+a}},{key:"handleOnFocus",value:function(n){var r=this,s=this.props.onFocus;this.setState({focused:!0},function(){null!==s&&s.call(r,n)})}},{key:"handleOnBlur",value:function(n){var r=this,s=this.props.onBlur;this.setState({focused:!1},function(){null!==s&&s.call(r,n)})}},{key:"renderFocusRing",value:function(){return this.state.focused?a.createElement("div",{className:[es.focusRing,"carousel__slide-focus-ring"].join(" ")}):null}},{key:"render",value:function(){var n=this,r=this.props,s=r.ariaLabel,o=(r.carouselStore,r.children,r.className),l=r.classNameHidden,c=r.classNameVisible,u=(r.currentSlide,r.index,r.innerClassName),d=r.innerTag,p=r.naturalSlideHeight,S=r.naturalSlideWidth,b=(r.onBlur,r.onFocus,r.orientation),m=r.slideSize,f=r.style,g=r.tabIndex,v=r.tag,y=r.totalSlides,_=(r.visibleSlides,r.isIntrinsicHeight),k=_objectWithoutProperties(r,ea),O={};"horizontal"===b?(O.width=pct(m),O.paddingBottom=pct(100*p/(S*y))):(O.width=pct(100),O.paddingBottom=pct(100*p/S));var C={};_&&("horizontal"===b?O.height="unset":O.width="unset",O.paddingBottom="unset",C.position="unset");var T=_extends({},O,f),P=this.isVisible(),M=cn([es.slide,"horizontal"===b&&es.slideHorizontal,"carousel__slide",this.state.focused&&"carousel__slide--focused",P&&c,P&&"carousel__slide--visible",!P&&l,!P&&"carousel__slide--hidden",o]),w=cn([es.slideInner,"carousel__inner-slide",u]),E=this.isVisible()?0:-1;return a.createElement(v,_extends({ref:function(r){n.tagRef=r},tabIndex:"number"==typeof g?g:E,"aria-selected":this.isVisible(),"aria-label":s,role:"option",onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,className:M,style:T},k),a.createElement(d,{ref:function(r){n.innerTagRef=r},className:w,style:C},this.props.children,this.renderFocusRing()))}}]),t}(a.PureComponent),"propTypes",{ariaLabel:o.string,carouselStore:o.object,children:d.children,className:o.string,classNameHidden:o.string,classNameVisible:o.string,currentSlide:o.number.isRequired,index:o.number.isRequired,innerClassName:o.string,innerTag:o.string,naturalSlideHeight:o.number.isRequired,naturalSlideWidth:o.number.isRequired,onBlur:o.func,onFocus:o.func,orientation:d.orientation.isRequired,slideSize:o.number.isRequired,style:o.object,tabIndex:o.number,tag:o.string,totalSlides:o.number.isRequired,visibleSlides:o.number.isRequired,isIntrinsicHeight:o.bool}),_defineProperty($,"defaultProps",{ariaLabel:"slide",carouselStore:null,children:null,className:null,classNameHidden:null,classNameVisible:null,innerClassName:null,innerTag:"div",onBlur:null,onFocus:null,style:{},tabIndex:null,tag:"div",isIntrinsicHeight:!1}),$),function(n){return{currentSlide:n.currentSlide,naturalSlideHeight:n.naturalSlideHeight,naturalSlideWidth:n.naturalSlideWidth,orientation:n.orientation,slideSize:n.slideSize,totalSlides:n.totalSlides,visibleSlides:n.visibleSlides,isIntrinsicHeight:n.isIntrinsicHeight}}),el=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parents",value:function(n,r){return null===n.parentNode?r:this.parents(n.parentNode,r.concat([n]))}},{key:"scrollParent",value:function(n){for(var r=this.parents(n.parentNode,[]),s=0;s<r.length;s+=1)if(e.scroll(r[s]))return r[s];return document.scrollingElement||document.documentElement}},{key:"getScrollParent",value:function(n){return e.isNodeValid(n)?this.scrollParent(n):null}}],[{key:"style",value:function(n,r){return getComputedStyle(n,null).getPropertyValue(r)}},{key:"overflow",value:function(n){return e.style(n,"overflow")+e.style(n,"overflow-y")+e.style(n,"overflow-x")}},{key:"scroll",value:function(n){return/(auto|scroll)/.test(e.overflow(n))}},{key:"isNodeValid",value:function(n){return n instanceof HTMLElement||n instanceof SVGElement}}]),e}(),ec={horizontalSlider:"horizontalSlider___281Ls",verticalSlider:"verticalSlider___34ZFD",verticalTray:"verticalTray___12Key",verticalSlideTrayWrap:"verticalSlideTrayWrap___2nO7o",sliderTray:"sliderTray___-vHFQ",sliderAnimation:"sliderAnimation___300FY",masterSpinnerContainer:"masterSpinnerContainer___1Z6hB"},eu=["ariaLabel","carouselStore","children","className","classNameAnimation","classNameTray","classNameTrayWrap","currentSlide","disableAnimation","disableKeyboard","dragEnabled","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","masterSpinnerFinished","moveThreshold","naturalSlideHeight","naturalSlideWidth","onMasterSpinner","orientation","playDirection","privateUnDisableAnimation","slideSize","slideTraySize","spinner","style","tabIndex","totalSlides","touchEnabled","trayProps","trayTag","visibleSlides","isIntrinsicHeight"],ed=["dragStep","step","infinite","preventVerticalScrollOnTouch","preventingVerticalScroll","horizontalPixelThreshold","verticalPixelThreshold"],eh=["className","onClickCapture","onMouseDown","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","ref","style"],ep=WithStore((_defineProperty(J=function(n){function t(n){var s;return _classCallCheck(this,t),(s=r.call(this,n)).getSliderRef=s.getSliderRef.bind(_assertThisInitialized(s)),s.handleDocumentScroll=s.handleDocumentScroll.bind(_assertThisInitialized(s)),s.handleOnClickCapture=s.handleOnClickCapture.bind(_assertThisInitialized(s)),s.handleOnKeyDown=s.handleOnKeyDown.bind(_assertThisInitialized(s)),s.handleOnMouseDown=s.handleOnMouseDown.bind(_assertThisInitialized(s)),s.handleOnMouseMove=s.handleOnMouseMove.bind(_assertThisInitialized(s)),s.handleOnMouseUp=s.handleOnMouseUp.bind(_assertThisInitialized(s)),s.handleOnTouchCancel=s.handleOnTouchCancel.bind(_assertThisInitialized(s)),s.handleOnTouchEnd=s.handleOnTouchEnd.bind(_assertThisInitialized(s)),s.handleOnTouchMove=s.handleOnTouchMove.bind(_assertThisInitialized(s)),s.handleOnTouchStart=s.handleOnTouchStart.bind(_assertThisInitialized(s)),s.playBackward=s.playBackward.bind(_assertThisInitialized(s)),s.playForward=s.playForward.bind(_assertThisInitialized(s)),s.callCallback=s.callCallback.bind(_assertThisInitialized(s)),s.blockWindowScroll=s.blockWindowScroll.bind(_assertThisInitialized(s)),s.state={cancelNextClick:!1,deltaX:0,deltaY:0,isBeingMouseDragged:!1,isBeingTouchDragged:!1,preventingVerticalScroll:!1,startX:0,startY:0},s.interval=null,s.isDocumentScrolling=null,s.moveTimer=null,s.originalOverflow=null,s.scrollParent=null,s.scrollStopTimer=null,s}_inherits(t,n);var r=_createSuper(t);return _createClass(t,[{key:"componentDidMount",value:function(){this.props.lockOnWindowScroll&&window.addEventListener("scroll",this.handleDocumentScroll,!1),(this.props.touchEnabled||this.props.preventVerticalScrollOnTouch)&&window.addEventListener("touchmove",this.blockWindowScroll,!1),document.documentElement.addEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.addEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.addEventListener("mouseup",this.handleOnMouseUp,!1),this.props.isPlaying&&this.play()}},{key:"componentDidUpdate",value:function(n){!n.isPlaying&&this.props.isPlaying&&this.play(),n.isPlaying&&!this.props.isPlaying&&this.stop(),!n.isPageScrollLocked&&this.props.isPageScrollLocked&&this.lockScroll(),n.isPageScrollLocked&&!this.props.isPageScrollLocked&&this.unlockScroll(),!1===n.privateUnDisableAnimation&&!0===this.props.privateUnDisableAnimation&&this.props.carouselStore.setStoreState({privateUnDisableAnimation:!1,disableAnimation:!1})}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.removeEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.removeEventListener("mouseup",this.handleOnMouseUp,!1),window.removeEventListener("scroll",this.handleDocumentScroll,!1),window.removeEventListener("touchmove",this.blockWindowScroll,!1),this.stop(),window.cancelAnimationFrame.call(window,this.moveTimer),window.clearTimeout(this.scrollStopTimer),this.isDocumentScrolling=null,this.moveTimer=null,this.scrollStopTimer=null}},{key:"getSliderRef",value:function(n){this.sliderTrayElement=n}},{key:"fakeOnDragStart",value:function(n){var r=n.screenX,s=n.screenY,a=n.touchDrag,o=n.mouseDrag;this.props.carouselStore.setStoreState({isPlaying:!1}),window.cancelAnimationFrame.call(window,this.moveTimer),"vertical"===this.props.orientation&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),this.setState({isBeingTouchDragged:void 0!==a&&a,isBeingMouseDragged:void 0!==o&&o,startX:r,startY:s})}},{key:"fakeOnDragMove",value:function(n,r){var s=this;this.moveTimer=window.requestAnimationFrame.call(window,function(){s.setState(function(a){return{deltaX:n-a.startX,deltaY:r-a.startY,preventingVerticalScroll:Math.abs(r-a.startY)<=s.props.verticalPixelThreshold&&Math.abs(n-a.startX)>=s.props.horizontalPixelThreshold}})})}},{key:"fakeOnDragEnd",value:function(){window.cancelAnimationFrame.call(window,this.moveTimer),this.computeCurrentSlide(),"vertical"===this.props.orientation&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1}),this.setState({deltaX:0,deltaY:0,isBeingTouchDragged:!1,isBeingMouseDragged:!1}),this.isDocumentScrolling=!this.props.lockOnWindowScroll&&null}},{key:"callCallback",value:function(n,r){var s=this.props.trayProps;s&&"function"==typeof s[n]&&(r.persist(),s[n](r))}},{key:"handleOnMouseDown",value:function(n){if(!this.props.dragEnabled)return void this.callCallback("onMouseDown",n);n.preventDefault(),this.fakeOnDragStart({screenX:n.screenX,screenY:n.screenY,mouseDrag:!0}),this.callCallback("onMouseDown",n)}},{key:"handleOnMouseMove",value:function(n){this.state.isBeingMouseDragged&&(this.setState({cancelNextClick:!0}),n.preventDefault(),this.fakeOnDragMove(n.screenX,n.screenY))}},{key:"handleOnMouseUp",value:function(n){this.state.isBeingMouseDragged&&(n.preventDefault(),this.fakeOnDragEnd())}},{key:"handleOnClickCapture",value:function(n){if(!this.state.cancelNextClick)return void this.callCallback("onClickCapture",n);n.preventDefault(),this.setState({cancelNextClick:!1}),this.callCallback("onClickCapture",n)}},{key:"handleOnTouchStart",value:function(n){if(!this.props.touchEnabled)return void this.callCallback("onTouchStart",n);"vertical"===this.props.orientation&&n.preventDefault();var r=n.targetTouches[0];this.fakeOnDragStart({screenX:r.screenX,screenY:r.screenY,touchDrag:!0}),this.callCallback("onTouchStart",n)}},{key:"handleDocumentScroll",value:function(){var n=this;this.props.touchEnabled&&(this.isDocumentScrolling=!0,window.clearTimeout(this.scrollStopTimer),this.scrollStopTimer=window.setTimeout(function(){n.isDocumentScrolling=!1},66))}},{key:"handleOnTouchMove",value:function(n){if(!this.props.touchEnabled||this.props.lockOnWindowScroll&&this.isDocumentScrolling)return void this.callCallback("onTouchMove",n);window.cancelAnimationFrame.call(window,this.moveTimer);var r=n.targetTouches[0];r&&(this.fakeOnDragMove(r.screenX,r.screenY),this.callCallback("onTouchMove",n))}},{key:"forward",value:function(){var n=this.props;return Math.min(n.currentSlide+n.step,n.totalSlides-n.visibleSlides)}},{key:"backward",value:function(){var n=this.props;return Math.max(n.currentSlide-n.step,0)}},{key:"handleOnKeyDown",value:function(n){var r=n.keyCode,s=this.props,a=s.carouselStore,o=s.currentSlide,l=s.disableKeyboard,c=s.totalSlides,u=s.visibleSlides,d={};!0===l||c<=u||(37===r&&(n.preventDefault(),this.focus(),d.currentSlide=Math.max(0,o-1),d.isPlaying=!1),39===r&&(n.preventDefault(),this.focus(),d.currentSlide=Math.min(c-u,o+1),d.isPlaying=!1),a.setStoreState(d))}},{key:"playForward",value:function(){var n=this.props,r=n.carouselStore,s=n.currentSlide;r.setStoreState({currentSlide:this.forward()===s?0:this.forward()})}},{key:"playBackward",value:function(){var n=this.props,r=n.carouselStore,s=n.currentSlide,a=n.totalSlides,o=n.visibleSlides;r.setStoreState({currentSlide:this.backward()===s?a-o:this.backward()})}},{key:"play",value:function(){var n=this.props.playDirection;this.interval=setInterval("forward"===n?this.playForward:this.playBackward,this.props.interval)}},{key:"stop",value:function(){window.clearInterval(this.interval),this.interval=null}},{key:"lockScroll",value:function(){var n=new el;this.scrollParent=n.getScrollParent(this.sliderTrayElement),this.scrollParent&&(this.originalOverflow=this.originalOverflow||this.scrollParent.style.overflow,this.scrollParent.style.overflow="hidden")}},{key:"unlockScroll",value:function(){this.scrollParent&&(this.scrollParent.style.overflow=this.originalOverflow,this.originalOverflow=null,this.scrollParent=null)}},{key:"blockWindowScroll",value:function(n){this.state.preventingVerticalScroll&&(n.preventDefault(),n.stopImmediatePropagation())}},{key:"computeCurrentSlide",value:function(){var n=t.slideSizeInPx(this.props.orientation,this.sliderTrayElement.clientWidth,this.sliderTrayElement.clientHeight,this.props.totalSlides),r=t.slidesMoved(this.props.moveThreshold,this.props.orientation,this.state.deltaX,this.state.deltaY,n,this.props.dragStep),s=this.props.totalSlides-Math.min(this.props.totalSlides,this.props.visibleSlides),a=boundedRange({min:0,max:s,x:this.props.currentSlide+r});this.props.infinite&&(this.props.currentSlide>=s&&r>0&&(a=0),0===this.props.currentSlide&&r<0&&(a=s)),this.props.carouselStore.setStoreState({currentSlide:a})}},{key:"focus",value:function(){this.sliderElement.focus()}},{key:"handleOnTouchEnd",value:function(n){this.endTouchMove(),this.callCallback("onTouchEnd",n)}},{key:"handleOnTouchCancel",value:function(n){this.endTouchMove(),this.callCallback("onTouchCancel",n)}},{key:"endTouchMove",value:function(){this.props.touchEnabled&&this.fakeOnDragEnd()}},{key:"renderMasterSpinner",value:function(){var n=this.props,r=n.hasMasterSpinner,s=n.masterSpinnerFinished,o=n.spinner;return r&&!s?("function"==typeof this.props.onMasterSpinner&&this.props.onMasterSpinner(),a.createElement("div",{className:cn([ec.masterSpinnerContainer,"carousel__master-spinner-container"])},o&&o(),!o&&a.createElement(ei,null))):null}},{key:"render",value:function(){var n=this,r=this.props,s=r.ariaLabel,o=(r.carouselStore,r.children),l=r.className,c=r.classNameAnimation,u=r.classNameTray,d=r.classNameTrayWrap,p=r.currentSlide,S=r.disableAnimation,b=(r.disableKeyboard,r.dragEnabled,r.hasMasterSpinner,r.interval,r.isPageScrollLocked,r.isPlaying,r.lockOnWindowScroll,r.masterSpinnerFinished,r.moveThreshold,r.naturalSlideHeight),m=r.naturalSlideWidth,f=(r.onMasterSpinner,r.orientation),g=(r.playDirection,r.privateUnDisableAnimation,r.slideSize),v=r.slideTraySize,y=(r.spinner,r.style),_=r.tabIndex,k=(r.totalSlides,r.touchEnabled,r.trayProps),O=r.trayTag,C=r.visibleSlides,T=r.isIntrinsicHeight,P=_objectWithoutProperties(r,eu),M=_extends({},y),w={};"vertical"===f&&(w.height=0,w.paddingBottom=pct(100*b*C/m),w.width=pct(100));var E={},N=pct(-(g*p*1));(this.state.isBeingTouchDragged||this.state.isBeingMouseDragged||S)&&(E.transition="none"),T&&(E.display="flex",E.alignItems="stretch"),"vertical"===f?(E.transform="translateY(".concat(N,") translateY(").concat(this.state.deltaY,"px)"),E.width=pct(100),E.flexDirection="column"):(E.width=pct(v),E.transform="translateX(".concat(N,") translateX(").concat(this.state.deltaX,"px)"),E.flexDirection="row");var x=cn(["vertical"===f?ec.verticalSlider:ec.horizontalSlider,"carousel__slider","vertical"===f?"carousel__slider--vertical":"carousel__slider--horizontal",l]),j=cn([ec.sliderTrayWrap,"carousel__slider-tray-wrapper","vertical"===f?ec.verticalSlideTrayWrap:ec.horizontalTrayWrap,"vertical"===f?"carousel__slider-tray-wrap--vertical":"carousel__slider-tray-wrap--horizontal",d]),I=cn([ec.sliderTray,c||ec.sliderAnimation,"carousel__slider-tray","vertical"===f?ec.verticalTray:ec.horizontalTray,"vertical"===f?"carousel__slider-tray--vertical":"carousel__slider-tray--horizontal",u]),D=(P.dragStep,P.step,P.infinite,P.preventVerticalScrollOnTouch,P.preventingVerticalScroll,P.horizontalPixelThreshold,P.verticalPixelThreshold,_objectWithoutProperties(P,ed)),A=(k.className,k.onClickCapture,k.onMouseDown,k.onTouchCancel,k.onTouchEnd,k.onTouchMove,k.onTouchStart,k.ref,k.style,_objectWithoutProperties(k,eh));return a.createElement("div",_extends({ref:function(r){n.sliderElement=r},className:x,"aria-live":"polite","aria-label":s,style:M,tabIndex:null!==_?_:0,onKeyDown:this.handleOnKeyDown,role:"listbox"},D),a.createElement("div",{className:j,style:w},a.createElement(O,_extends({ref:this.getSliderRef,className:I,style:E,onTouchStart:this.handleOnTouchStart,onTouchMove:this.handleOnTouchMove,onTouchEnd:this.handleOnTouchEnd,onTouchCancel:this.handleOnTouchCancel,onMouseDown:this.handleOnMouseDown,onClickCapture:this.handleOnClickCapture},A),o),this.renderMasterSpinner()))}}],[{key:"slideSizeInPx",value:function(n,r,s,a){return("horizontal"===n?r:s)/a}},{key:"slidesMoved",value:function(n,r,s,a,o,l){var c="horizontal"===r?s:a,u=Math.max(Math.abs(c)>=o*n?l:0,Math.abs(Math.round(c/o)));if(c<0)return u;var d=-u;return 0===d?0:d}}]),t}(a.Component),"propTypes",{ariaLabel:o.string,carouselStore:o.object.isRequired,children:o.node.isRequired,className:o.string,classNameAnimation:o.string,classNameTray:o.string,classNameTrayWrap:o.string,currentSlide:o.number.isRequired,disableAnimation:o.bool,disableKeyboard:o.bool,dragEnabled:o.bool.isRequired,dragStep:o.number,hasMasterSpinner:o.bool.isRequired,infinite:o.bool,interval:o.number.isRequired,isPageScrollLocked:o.bool.isRequired,isPlaying:o.bool.isRequired,lockOnWindowScroll:o.bool.isRequired,preventVerticalScrollOnTouch:o.bool,horizontalPixelThreshold:o.number,verticalPixelThreshold:o.number,masterSpinnerFinished:o.bool.isRequired,moveThreshold:o.number,naturalSlideHeight:o.number.isRequired,naturalSlideWidth:o.number.isRequired,onMasterSpinner:o.func,orientation:d.orientation.isRequired,playDirection:d.direction.isRequired,privateUnDisableAnimation:o.bool,slideSize:o.number.isRequired,slideTraySize:o.number.isRequired,spinner:o.func,step:o.number.isRequired,style:o.object,tabIndex:o.number,totalSlides:o.number.isRequired,touchEnabled:o.bool.isRequired,trayProps:o.shape({className:o.string,onClickCapture:o.func,onMouseDown:o.func,onTouchCancel:o.func,onTouchEnd:o.func,onTouchMove:o.func,onTouchStart:o.func,ref:o.shape({}),style:o.string}),trayTag:o.string,visibleSlides:o.number,isIntrinsicHeight:o.bool}),_defineProperty(J,"defaultProps",{ariaLabel:"slider",className:null,classNameAnimation:null,classNameTray:null,classNameTrayWrap:null,disableAnimation:!1,disableKeyboard:!1,dragStep:1,infinite:!1,preventVerticalScrollOnTouch:!0,horizontalPixelThreshold:15,verticalPixelThreshold:10,moveThreshold:.1,onMasterSpinner:null,privateUnDisableAnimation:!1,spinner:null,style:{},tabIndex:null,trayProps:{},trayTag:"div",visibleSlides:1,isIntrinsicHeight:!1}),J),function(n){return{currentSlide:n.currentSlide,disableAnimation:n.disableAnimation,privateUnDisableAnimation:n.privateUnDisableAnimation,disableKeyboard:n.disableKeyboard,dragEnabled:n.dragEnabled,hasMasterSpinner:n.hasMasterSpinner,infinite:n.infinite,interval:n.interval,isPageScrollLocked:n.isPageScrollLocked,isPlaying:n.isPlaying,lockOnWindowScroll:n.lockOnWindowScroll,preventingVerticalScroll:n.preventingVerticalScroll,masterSpinnerFinished:n.masterSpinnerFinished,naturalSlideHeight:n.naturalSlideHeight,naturalSlideWidth:n.naturalSlideWidth,orientation:n.orientation,playDirection:n.playDirection,slideSize:n.slideSize,slideTraySize:n.slideTraySize,step:n.step,dragStep:n.dragStep,totalSlides:n.totalSlides,touchEnabled:n.touchEnabled,visibleSlides:n.visibleSlides,isIntrinsicHeight:n.isIntrinsicHeight}})}}]);